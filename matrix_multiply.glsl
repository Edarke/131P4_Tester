//precision highp float;   


mat2 I;
mat2 ONE;

bool test(){
  bool check = true;
	
	I[0][0] = I[1][1] = 1.0;
	I[1][0] = I[0][1] = 0.0;
	 
	ONE[0][0] = ONE[0][1] = ONE[1][0] = ONE[1][1] = 1.0;
	 
	I = I;
	I *= (I + I - I)*(I/ONE);
  	check = check && I[0][0] == 1.0 && I[0][1] == 0.0 && I[1][0] == 0.0 && I[1][1] == 1.0;
  	
  	I *= I *= I;
  	ONE = ONE * I;
  	check = check && I[0][0] == 1.0 && I[0][1] == 0.0 && I[1][0] == I[0][1] && I[1][1] == I[0][0];
  	check = check && ONE[0][0] == 1.0 && ONE[0][1] == 1.0 && ONE[1][0] == 1.0 && ONE[1][1] == 1.0;
  	
  	ONE = I * ONE;
  	check = check && I[0][0] == 1.0 && I[0][1] == 0.0 && I[1][0] == I[0][1] && I[1][1] == I[0][0];
  	check = check && ONE[0][0] == 1.0 && ONE[0][1] == 1.0 && ONE[1][0] == 1.0 && ONE[1][1] == 1.0;
  	
  	
  	ONE *= ONE;
  	check = check && ONE[0][0] == 2.0 && ONE[0][1] == 2.0 && ONE[1][0] == 2.0 && ONE[1][1] == 2.0;
  	
  	mat2 TWO = ONE;
  	check = check && TWO[0][0] == 2.0 && TWO[0][1] == 2.0 && TWO[1][0] == 2.0 && TWO[1][1] == 2.0;
  	
  	ONE[0][0] = -1.0;  	
  	ONE = ONE * TWO;
  	check = check && ONE[0][0] == 2.0 && ONE[0][1] == 8.0 && ONE[1][0] == 2.0 && ONE[1][1] == 8.0;
  	
  	
  	
  	ONE[0][0] = 17.0;
  	ONE[0][1] = 2.0;
  	ONE[1][0] = 6.0;
  	ONE[1][1] = 13.0;
  	
  	
  	TWO[0][0] = 9.0;
  	TWO[0][1] = 5.0;
  	TWO[1][0] = 10.0;
  	TWO[1][1] = 11.0;
  	
  	mat2 PRODUCT = ONE * TWO;
  	ONE *= TWO;	
   	
     check = check && ONE[0][0] == 183.0 && ONE[0][1] == 83.0 && ONE[1][0] == 236.0 && ONE[1][1] == 163.0;
    check = check && PRODUCT[0][0] == 183.0 && PRODUCT[0][1] == 83.0 && PRODUCT[1][0] == 236.0 && PRODUCT[1][1] == 163.0;



    mat4 m4;
    m4[0][0] = 11.0;
    m4[0][1] = 17.0;
    m4[0][2] = 2.0;
    m4[0][3] = -1.0;
    m4[1][0] = -6.0;
    m4[1][1] = 3.0;
    m4[1][2] = 1.0;
    m4[1][3] = 1.0;
    m4[2][0] = 4.0;
    m4[2][1] = -3.0;
    m4[2][2] = 2.0;
    m4[2][3] = 5.0;
    m4[3][0] = 7.0;
    m4[3][1] = 14.0;
    m4[3][2] = -7.0;
    m4[3][3] = 0.0;
    
    mat4 n4;
    n4[0][0] = 0.0;
    n4[0][1] = 1.0;
    n4[0][2] = 2.0;
    n4[0][3] = 3.0;
    n4[1][0] = 4.0;
    n4[1][1] = 3.0;
    n4[1][2] = 2.0;
    n4[1][3] = 1.0;
    n4[2][0] = 7.0;
    n4[2][1] = -13.0;
    n4[2][2] = 2.0;
    n4[2][3] = 5.0;
    n4[3][0] = -8.0;
    n4[3][1] = 4.0;
    n4[3][2] = 21.0;
    n4[3][3] = -9.0;
    
    mat4 b = m4 * n4;
    
    // Main diagonal
    check = check && b[0][0] == 23.0 && b[1][1] == 85.0 && b[2][2] == -30.0 && b[3][3] == 117.0;
    
    check = check && b[1][3] == 9.0 && b[2][1] == 144.0 && b[3][0] == -91.0 && b[0][2] == -16.0;     
    
  
  	return check;
}



// Expected output: 3432355

/*
void main()
{
  if(test() == 14911715) // Assert function returns expected value
    gl_FragColor = vec4(0,1,0,1.0); // green
  else
    gl_FragColor = vec4(1,0,0,1.0);  // red
}
*/
